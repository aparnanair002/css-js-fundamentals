<html>
    <head>
        <title>Asynchronous Function</title>
    <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <section>
            You might be thinking why do i have a seperate page for Asynchronous Functions
            when i could have just added it to the JavaScript Basics page.
            The reason is that Asynchronous functions are a bit more complex and require a deeper understanding of JavaScript.
            So i decided to give it its own page to make it easier to understand.

            (it made me cry the first time i tried to learn it so hopefully this will help someone else not cry like me)
        </section>

        <section>
            Asynchronous functions are functions that run in the background and do not block the main thread.
            This means that the code can continue to run while the asynchronous function is being executed.
            This is useful for tasks that take a long time to complete, such as fetching data from an API or reading a file.
            </section>
            <section>
                setTimeout(() => {
                    },4000); // this is an asynchronous function that will run after 4 seconds
            </section>
            <h2>callback functions</h2>
            <section>
                A callback function is a function that is passed as an argument to another function and is executed after the asynchronous function is completed.
                This is useful for handling the result of the asynchronous function.
                </section>
                <h2>Promise</h2>
                <section>
                    A Promise is an object that represents the eventual completion (or failure) of an asynchronous operation and its resulting value.
                    A Promise can be in one of three states: pending, resolve, or rejected.
                                     
                                       resolve->.then-> 
                                       |               |
                    promise-> pending->                finally
                                       |               |    
                                        reject->.catch->

                  <a href="https://codepen.io/cylwryps-the-selector/pen/vEKGdro?editors=0012">CodePen Link</a>
                  basic structure of promise:
                    <pre><code>
const myPromise = new Promise((resolve, reject) => {
  // Asynchronous operation here
    if (/* operation successful */) {
    resolve("Success!");
  } else {
    reject("Error!");
    }
});
</code></pre>

                    </section>
                    <h2>async/await</h2>
                    <section>
                        async/await is a way to write asynchronous code that looks and behaves like synchronous code.
                        The async keyword is used to declare a function as asynchronous, and the await keyword is used to wait for a Promise to resolve.
                        This makes it easier to read and understand asynchronous code.
                        <pre><code>
                            let stock={
                                fruits:["strawberry","grapes","banana","apple"],
                                liquid:["water","ice"],
                                holder:["cone","cup","stick"],
                                toppings:["chocolate","peanuts"]
                            };
                            let shop_open=true;
                            
                            let toppings_choice= ()=>{
                                return new Promise((resolve,reject)=>{
                                    setTimeout(()=>{
                                        resolve(console.log("which topping would you love?")); //without resolve, it stops at await in async
                                    },3000);
                                });
                            };
                            async function kitchen(){
                                console.log("A");
                                console.log("B");
                                await toppings_choice();
                                console.log("C");
                                console.log("D");
                                console.log("E");
                            }
                            kitchen();
                            console.log("doing the dishes");
                            console.log("cleaning the tables");
                            console.log("taking others orders");
                        </code></pre>

</html>